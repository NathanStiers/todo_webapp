{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\natha\\\\Desktop\\\\Travail_pi's\\\\travail_pi\\\\src\\\\index.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\n\n(function () {\n  var streaming = false,\n      video = document.querySelector('#video'),\n      cover = document.querySelector('#cover'),\n      canvas = document.querySelector('#canvas'),\n      photo = document.querySelector('#photo'),\n      startbutton = document.querySelector('#startbutton'),\n      width = 320,\n      height = 0;\n  navigator.getMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia;\n  navigator.getMedia({\n    video: true,\n    audio: false\n  }, function (stream) {\n    if (navigator.mozGetUserMedia) {\n      video.mozSrcObject = stream;\n    } else {\n      var vendorURL = window.URL || window.webkitURL;\n      video.src = vendorURL.createObjectURL(stream);\n    }\n\n    video.play();\n  }, function (err) {\n    console.log(\"An error occured! \" + err);\n  });\n  video.addEventListener('canplay', function (ev) {\n    if (!streaming) {\n      height = video.videoHeight / (video.videoWidth / width);\n      video.setAttribute('width', width);\n      video.setAttribute('height', height);\n      canvas.setAttribute('width', width);\n      canvas.setAttribute('height', height);\n      streaming = true;\n    }\n  }, false);\n\n  function takepicture() {\n    canvas.width = width;\n    canvas.height = height;\n    canvas.getContext('2d').drawImage(video, 0, 0, width, height);\n    var data = canvas.toDataURL('image/png');\n    photo.setAttribute('src', data);\n  }\n\n  startbutton.addEventListener('click', function (ev) {\n    takepicture();\n    ev.preventDefault();\n  }, false);\n})();\n\nReactDOM.render(React.createElement(App, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 67\n  },\n  __self: this\n}), document.getElementById('root'));","map":{"version":3,"sources":["C:\\Users\\natha\\Desktop\\Travail_pi's\\travail_pi\\src\\index.js"],"names":["React","ReactDOM","App","streaming","video","document","querySelector","cover","canvas","photo","startbutton","width","height","navigator","getMedia","getUserMedia","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","audio","stream","mozSrcObject","vendorURL","window","URL","webkitURL","src","createObjectURL","play","err","console","log","addEventListener","ev","videoHeight","videoWidth","setAttribute","takepicture","getContext","drawImage","data","toDataURL","preventDefault","render","getElementById"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,OAAO,aAAP;AACA,OAAOC,GAAP,MAAgB,sBAAhB;;AAEA,CAAC,YAAW;AAER,MAAIC,SAAS,GAAG,KAAhB;AAAA,MACIC,KAAK,GAAUC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CADnB;AAAA,MAEIC,KAAK,GAAUF,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAFnB;AAAA,MAGIE,MAAM,GAASH,QAAQ,CAACC,aAAT,CAAuB,SAAvB,CAHnB;AAAA,MAIIG,KAAK,GAAUJ,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAJnB;AAAA,MAKII,WAAW,GAAIL,QAAQ,CAACC,aAAT,CAAuB,cAAvB,CALnB;AAAA,MAMIK,KAAK,GAAG,GANZ;AAAA,MAOIC,MAAM,GAAG,CAPb;AASAC,EAAAA,SAAS,CAACC,QAAV,GAAuBD,SAAS,CAACE,YAAV,IACAF,SAAS,CAACG,kBADV,IAEAH,SAAS,CAACI,eAFV,IAGAJ,SAAS,CAACK,cAHjC;AAKAL,EAAAA,SAAS,CAACC,QAAV,CACE;AACEV,IAAAA,KAAK,EAAE,IADT;AAEEe,IAAAA,KAAK,EAAE;AAFT,GADF,EAKE,UAASC,MAAT,EAAiB;AACf,QAAIP,SAAS,CAACI,eAAd,EAA+B;AAC7Bb,MAAAA,KAAK,CAACiB,YAAN,GAAqBD,MAArB;AACD,KAFD,MAEO;AACL,UAAIE,SAAS,GAAGC,MAAM,CAACC,GAAP,IAAcD,MAAM,CAACE,SAArC;AACArB,MAAAA,KAAK,CAACsB,GAAN,GAAYJ,SAAS,CAACK,eAAV,CAA0BP,MAA1B,CAAZ;AACD;;AACDhB,IAAAA,KAAK,CAACwB,IAAN;AACD,GAbH,EAcE,UAASC,GAAT,EAAc;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAY,uBAAuBF,GAAnC;AACD,GAhBH;AAmBAzB,EAAAA,KAAK,CAAC4B,gBAAN,CAAuB,SAAvB,EAAkC,UAASC,EAAT,EAAY;AAC5C,QAAI,CAAC9B,SAAL,EAAgB;AACdS,MAAAA,MAAM,GAAGR,KAAK,CAAC8B,WAAN,IAAqB9B,KAAK,CAAC+B,UAAN,GAAiBxB,KAAtC,CAAT;AACAP,MAAAA,KAAK,CAACgC,YAAN,CAAmB,OAAnB,EAA4BzB,KAA5B;AACAP,MAAAA,KAAK,CAACgC,YAAN,CAAmB,QAAnB,EAA6BxB,MAA7B;AACAJ,MAAAA,MAAM,CAAC4B,YAAP,CAAoB,OAApB,EAA6BzB,KAA7B;AACAH,MAAAA,MAAM,CAAC4B,YAAP,CAAoB,QAApB,EAA8BxB,MAA9B;AACAT,MAAAA,SAAS,GAAG,IAAZ;AACD;AACF,GATD,EASG,KATH;;AAWA,WAASkC,WAAT,GAAuB;AACrB7B,IAAAA,MAAM,CAACG,KAAP,GAAeA,KAAf;AACAH,IAAAA,MAAM,CAACI,MAAP,GAAgBA,MAAhB;AACAJ,IAAAA,MAAM,CAAC8B,UAAP,CAAkB,IAAlB,EAAwBC,SAAxB,CAAkCnC,KAAlC,EAAyC,CAAzC,EAA4C,CAA5C,EAA+CO,KAA/C,EAAsDC,MAAtD;AACA,QAAI4B,IAAI,GAAGhC,MAAM,CAACiC,SAAP,CAAiB,WAAjB,CAAX;AACAhC,IAAAA,KAAK,CAAC2B,YAAN,CAAmB,KAAnB,EAA0BI,IAA1B;AACD;;AAED9B,EAAAA,WAAW,CAACsB,gBAAZ,CAA6B,OAA7B,EAAsC,UAASC,EAAT,EAAY;AAC9CI,IAAAA,WAAW;AACbJ,IAAAA,EAAE,CAACS,cAAH;AACD,GAHD,EAGG,KAHH;AAKD,CA3DH;;AA6DAzC,QAAQ,CAAC0C,MAAT,CAAgB,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAAhB,EAAyBtC,QAAQ,CAACuC,cAAT,CAAwB,MAAxB,CAAzB","sourcesContent":["import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App/App';\r\n\r\n(function() {\r\n\r\n    var streaming = false,\r\n        video        = document.querySelector('#video'),\r\n        cover        = document.querySelector('#cover'),\r\n        canvas       = document.querySelector('#canvas'),\r\n        photo        = document.querySelector('#photo'),\r\n        startbutton  = document.querySelector('#startbutton'),\r\n        width = 320,\r\n        height = 0;\r\n  \r\n    navigator.getMedia = ( navigator.getUserMedia ||\r\n                           navigator.webkitGetUserMedia ||\r\n                           navigator.mozGetUserMedia ||\r\n                           navigator.msGetUserMedia);\r\n  \r\n    navigator.getMedia(\r\n      {\r\n        video: true,\r\n        audio: false\r\n      },\r\n      function(stream) {\r\n        if (navigator.mozGetUserMedia) {\r\n          video.mozSrcObject = stream;\r\n        } else {\r\n          var vendorURL = window.URL || window.webkitURL;\r\n          video.src = vendorURL.createObjectURL(stream);\r\n        }\r\n        video.play();\r\n      },\r\n      function(err) {\r\n        console.log(\"An error occured! \" + err);\r\n      }\r\n    );\r\n  \r\n    video.addEventListener('canplay', function(ev){\r\n      if (!streaming) {\r\n        height = video.videoHeight / (video.videoWidth/width);\r\n        video.setAttribute('width', width);\r\n        video.setAttribute('height', height);\r\n        canvas.setAttribute('width', width);\r\n        canvas.setAttribute('height', height);\r\n        streaming = true;\r\n      }\r\n    }, false);\r\n  \r\n    function takepicture() {\r\n      canvas.width = width;\r\n      canvas.height = height;\r\n      canvas.getContext('2d').drawImage(video, 0, 0, width, height);\r\n      var data = canvas.toDataURL('image/png');\r\n      photo.setAttribute('src', data);\r\n    }\r\n  \r\n    startbutton.addEventListener('click', function(ev){\r\n        takepicture();\r\n      ev.preventDefault();\r\n    }, false);\r\n  \r\n  })();\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));"]},"metadata":{},"sourceType":"module"}